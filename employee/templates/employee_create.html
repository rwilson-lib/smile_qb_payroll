{% extends 'sidebar.html' %}
{% block title %}Create Employee{% endblock %}
{% load widget_tweaks %}
{% block display %}
<div class="tab-container">
  <ul class="tab-menu">
    <li class="active-menu"><a href="#employee">Personal</a></li>
    <li><a href="#address">Addresses &amp; Contacts</a></li>
    <li><a href="#employee-earning">Earning</a></li>
  </ul>
   <form class="tab-contents" action="{% url 'employee_create' %}" method="POST">
    {% csrf_token %}
    <fieldset class="tab active-tab" id="employee">
      <div>
        {{ employee_form.employment_type.label_tag }}
        {{ employee_form.employment_type }}
        <div>
          <label>Hire Period</label>
          {{ employee_form.hire_date }}
          {{ employee_form.employment_end_date }}
        </div>
      </div>
      <div>
        <label>Identifier: </label>
        {{ employee_form.employee_id_number }}<button class="btn" id="employee-id-gen" type="button">Generate</button>
        {{ employee_form.social_security_number}}
        {{ employee_form.tin }}
      </div>
      <div id="legal-name">
        <label>Legal Name: </label>
        {{ employee_form.first_name }}
        {{ employee_form.middle_name }}
        {{ employee_form.last_name }}
        {{ employee_form.maiden_name }}
      </div>
      <div>
        {{ employee_form.gender.label_tag }}
        {{ employee_form.gender }}
      </div>
      <div>
        {{ employee_form.marital_status.label_tag }}
        {{ employee_form.marital_status }}
      </div>
      <div>
        {{ employee_form.date_of_birth.label_tag }}
        {{ employee_form.date_of_birth }}
        <span>Must be 18 or older</span>
      </div>
      {{ employee_form.nationality.label_tag }}
      {{ employee_form.nationality }}

    </fieldset>

      <fieldset class="tab" id="address">
        {{ address_formset.management_form }}
        <div id="contacts">
          <div>
            <label>Personal: </label>
            {{ employee_form.personal_phone }}
            {{ employee_form.personal_email }}
          </div>
          <div>
            <label>Work: </label>
            {{ employee_form.work_phone }}
            {{ employee_form.work_email }}
          </div>
        </div>
        <hr>
        {% for formset in address_formset %}
        <div id="id_address-wrapper-{{ forloop.counter0 }}">
          {{ formset.label.label_tag }}
          {{ formset.label }}
          <div>
          {{ formset.address_one.label_tag }}
          {{ formset.address_one }}
          </div>
          <div>
          {{ formset.address_two.label_tag }}
          {{ formset.address_two }}
          </div>
          <div>
          {{ formset.city.label_tag }}
          {{ formset.city }}
          </div>
          <div>
          {{ formset.state.label_tag }}
          {{ formset.state }}
          {{ formset.country.label_tag }}
          {{ formset.country }}
          </div>
          <a href="#" id="add-address-line">Add Another Address</a>
        </div>
        {% endfor %}
      </fieldset>
      {% include "_emp_position_form.html" %}

      <fieldset class="tab" id="employee-earning">
        {{ employee_position_earns_formset.management_form }}
        {% for formset in employee_position_earns_formset %}
        <div id="id_earning-wrapper-{{ forloop.counter0 }}">
            <span class="earning-line-num"> {{ forloop.counter }}</span>
          {{ formset.earning }}
          <span class="input-group-text">$</span>
          {{ formset.amount }}
        </div>
        {% endfor %}
        <a href="#" id="add-earning-line">Add Another</a>
        <br>
        <button type="button" class="btn btn-primary form-control">Cancel</button>
        <button type="submit" class="btn btn-primary form-control">Create</button>
      </fieldset>
  </form>
</div>
{% comment %}{% include '_modal_emp_position.html'%}{% endcomment %}
{% endblock %}
{% load static %}
{% block scripts %}
<script src="{% static 'js/script.js' %}" type="text/javascript"></script>
{% endblock %}
